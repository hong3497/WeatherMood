(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1507:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(5155),s=a(2115),n=a(1890);async function c(e,t){let a=n.env.NEXT_PUBLIC_OPENWEATHER_API_KEY,r=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&units=metric&appid=").concat(a));if(!r.ok)throw Error("날씨 정보를 불러오지 못했어요.");return r.json()}function l(e){let{weather:t}=e,a=t.weather[0].main.toLowerCase(),n=function(e){switch(e.toLowerCase()){case"clear":return"맑은 날이에요! 산책 어때요?";case"clouds":return"구름이 많네요. 흐림 주의!";case"rain":return"우산 꼭 챙기세요!";case"snow":return"와우 눈이 와요. 따뜻하게 입으세요!";case"thunderstorm":return"천둥번개가 쳐요. 외출은 주의!";case"drizzle":return"이슬비가 내려요. 옷은 우산도 좋아요.";case"mist":return"안개가 자욱하네요. 운전 조심!";default:return"오늘 날씨는 어떨까요? 확인해보세요!"}}(a),[c,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{l(await function(e){switch(e.toLowerCase()){case"clear":return{title:"맑은 날씨에 어울리는 음악",url:"https://www.youtube.com/embed/iqRkTGkAs9I"};case"rain":return{title:"비 오는 날 듣기 좋은 음악",url:"https://www.youtube.com/embed/DkyMBXq43es"};case"clouds":return{title:"구름 낀 날 듣기 좋은 음악",url:"https://www.youtube.com/embed/arvjFi09eyg"};default:return{title:"기본 음악",url:"https://www.youtube.com/embed/CfPxlb8-ZQ0"}}}(a))})()},[a]);let i={clear:"☀️",clouds:"⛅",rain:"\uD83C\uDF27️",thunderstorm:"\uD83C\uDF29️",snow:"❄️",mist:"\uD83C\uDF2B️",drizzle:"\uD83C\uDF26️",haze:"\uD83C\uDF01",default:"\uD83C\uDF08"},o=i[a]||i.default;return(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md text-center space-y-2",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:t.name}),(0,r.jsx)("div",{className:"text-5xl",children:o}),(0,r.jsx)("p",{className:"text-gray-700",children:t.weather[0].description}),(0,r.jsxs)("p",{className:"text-3xl font-semibold",children:[t.main.temp,"\xb0C"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Humidity: ",t.main.humidity,"%"]}),(0,r.jsx)("p",{className:"mt-2 text-blue-700 font-medium",children:n}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("iframe",{className:"mt-4 rounded-xl shadow-md",width:"300",height:"170",src:"".concat(c.url,"?autoplay=1&mute=1"),title:"Recommended Music",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}),(0,r.jsx)("p",{className:"text-sm mt-1 text-gray-500",children:c.title})]})]})}function i(){var e,t,a;let[n,i]=(0,s.useState)(null),[o,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async e=>{i(await c(e.coords.latitude,e.coords.longitude))},e=>{console.error("Geolocation error:",e),u("위치 정보 접근이 거부되었습니다. 권한을 허용해주세요.")}):u("이 브라우저는 위치 정보를 지원하지 않아요.")},[]);let d=null==n||null==(a=n.weather)||null==(t=a[0])||null==(e=t.main)?void 0:e.toLowerCase();return(0,r.jsx)("main",{className:"min-h-screen bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url(".concat(d?"/weather-bg/".concat(d,".jpg"):"",")")},children:o?(0,r.jsx)("p",{className:"text-red-500 text-xl",children:o}):n?(0,r.jsx)(l,{weather:n}):(0,r.jsx)("p",{className:"text-white text-xl",children:"Loading weather data..."})})}},8494:(e,t,a)=>{Promise.resolve().then(a.bind(a,1507))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(8494)),_N_E=e.O()}]);